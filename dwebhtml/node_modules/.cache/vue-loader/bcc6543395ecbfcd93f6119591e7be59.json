{"remainingRequest":"D:\\dewebblog\\dwebhtml\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\dewebblog\\dwebhtml\\src\\views\\Article.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\dewebblog\\dwebhtml\\src\\views\\Article.vue","mtime":1608297052772},{"path":"D:\\dewebblog\\dwebhtml\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\dewebblog\\dwebhtml\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\dewebblog\\dwebhtml\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\dewebblog\\dwebhtml\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCcmVhZE1lbnUgZnJvbSAnLi4vY29tcG9uZW50cy9CcmVhZE1lbnUnCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IFFzIGZyb20gJ3FzJwpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGFydGljbGVfaWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkLAogICAgICAgICAgICBhcnRpY2xlX2RhdGE6IHt9LAogICAgICAgICAgICAvLyDor4TorroKICAgICAgICAgICAgbmV3X3BpbmdsdW46ICIiLAogICAgICAgICAgICBwaW5nbHVfdG90YWw6IDEwMCwKICAgICAgICAgICAgcGluZ2x1bl9wYWdlU2l6ZTogNCwKICAgICAgICAgICAgcGluZ2x1bl9kYXRhOiBbXSwKICAgICAgICAgICAgdXNlcl9hcnRpY2xlX2luZm86IHt9LAogICAgICAgIH0KICAgIH0sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgQnJlYWRNZW51CiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICAkcm91dGUodG8pIHsKICAgICAgICAgICAgdGhpcy5hcnRpY2xlX2lkID0gdG8ucXVlcnkuaWQKICAgICAgICAgICAgdGhpcy5nZXRBcnRpY2xlRGF0YSh0by5xdWVyeS5pZCkKICAgICAgICAgICAgdGhpcy5nZXRBbGxQaW5nbHVuKDEsIHRoaXMucGluZ2x1bl9wYWdlU2l6ZSkKICAgICAgICAgICAgdGhpcy5nZXRVc2VyQXJ0aWNsZUluZm8oKQogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMuZ2V0QXJ0aWNsZURhdGEodGhpcy5hcnRpY2xlX2lkKQogICAgICAgIHRoaXMuZ2V0QWxsUGluZ2x1bigxLCB0aGlzLnBpbmdsdW5fcGFnZVNpemUpCiAgICAgICAgdGhpcy5nZXRVc2VyQXJ0aWNsZUluZm8oKQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAvLyDngrnotZ4KICAgICAgICB0b0xpa2UoKXsKICAgICAgICAgICAgYXhpb3MoewogICAgICAgICAgICAgICAgICAgIHVybDogImh0dHA6Ly8xMjcuMC4wLjE6OTAwMC9hcGkvYXJ0aWNsZS1saWtlLyIsCiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICAgICAgICAgICAgZGF0YTogUXMuc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHN0b3JlLmdldHRlcnMuaXNub3RVc2VybG9naW4sCiAgICAgICAgICAgICAgICAgICAgICAgIGFydGljbGVfaWQ6IHRoaXMuYXJ0aWNsZV9pZCwKICAgICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlcyk9PnsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEgPT0gJ25vbG9naW4nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfor7fnmbvlvZUnKQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhPT0ib2siKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0VXNlckFydGljbGVJbmZvKCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgLy8g5pS26JePCiAgICAgICAgdG9GYXZvcigpewogICAgICAgICAgICBheGlvcyh7CiAgICAgICAgICAgICAgICAgICAgdXJsOiAiaHR0cDovLzEyNy4wLjAuMTo5MDAwL2FwaS9hcnRpY2xlLWZhdm9yLyIsCiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICAgICAgICAgICAgZGF0YTogUXMuc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRoaXMuJHN0b3JlLmdldHRlcnMuaXNub3RVc2VybG9naW4sCiAgICAgICAgICAgICAgICAgICAgICAgIGFydGljbGVfaWQ6IHRoaXMuYXJ0aWNsZV9pZCwKICAgICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlcyk9PnsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEgPT0gJ25vbG9naW4nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfor7fnmbvlvZUnKQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhPT0ib2siKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0VXNlckFydGljbGVJbmZvKCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgLy8g5omT6LWPCiAgICAgICAgdG9EYXNoYW5nKCl7CiAgICAgICAgICAgIGxldCBsaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BheUxpbmsnKQogICAgICAgICAgICBsaW5rLmhlcmYgPSAiaHR0cHM6Ly93d3cuYWxpcGF5LmNvbS8iCiAgICAgICAgICAgIGxpbmsuY2xpY2soKQoKICAgICAgICAgICAgaWYgKGNvbmZpcm0oJ+aUr+S7mOWujOaIkOS6huWQl++8nycpKSB7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdvaycpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8vIOiOt+WPluS6kuWKqOS/oeaBrwogICAgICAgIGdldFVzZXJBcnRpY2xlSW5mbygpIHsKICAgICAgICAgICAgbGV0IHRva2VuID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5pc25vdFVzZXJsb2dpbjsKICAgICAgICAgICAgaWYgKHRva2VuKSB7CiAgICAgICAgICAgICAgICBheGlvcyh7CiAgICAgICAgICAgICAgICAgICAgdXJsOiAiaHR0cDovLzEyNy4wLjAuMTo5MDAwL2FwaS91c2VyLWFydGljbGUtaW5mby8iLAogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgICAgICAgICAgIGRhdGE6IFFzLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiB0b2tlbiwKICAgICAgICAgICAgICAgICAgICAgICAgYXJ0aWNsZV9pZDogdGhpcy5hcnRpY2xlX2lkLAogICAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpCiAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VyX2FydGljbGVfaW5mbyA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8vIOiOt+WPluivhOiuuuaVsOaNrgogICAgICAgIGdldEFsbFBpbmdsdW4ocGFnZSwgcGFnZXNpemUpIHsKICAgICAgICAgICAgYXhpb3MoewogICAgICAgICAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICAgICAgICAgIHVybDogImh0dHA6Ly8xMjcuMC4wLjE6OTAwMC9hcGkvcGluZ2x1bi8iLAogICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgcGFnZSwKICAgICAgICAgICAgICAgICAgICBwYWdlc2l6ZSwKICAgICAgICAgICAgICAgICAgICBhcnRpY2xlX2lkOiB0aGlzLmFydGljbGVfaWQsCgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMucGluZ2x1bl9kYXRhID0gcmVzLmRhdGEuZGF0YQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEuZGF0YSkKICAgICAgICAgICAgICAgIHRoaXMucGluZ2x1X3RvdGFsID0gcmVzLmRhdGEudG90YWwKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIC8vIOWPkeihqOivhOiuugogICAgICAgIHNhdmVOZXdQaW5nbHVuKCkgewogICAgICAgICAgICBpZiAodGhpcy5uZXdfcGluZ2x1bi5sZW5ndGggPT0gMCkgewogICAgICAgICAgICAgICAgYWxlcnQoJ+ivt+i+k+WFpeivhOiuuicpCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgICBheGlvcyh7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICAgICAgICAgIHVybDogImh0dHA6Ly8xMjcuMC4wLjE6OTAwMC9hcGkvcGluZ2x1bi8iLAogICAgICAgICAgICAgICAgZGF0YTogUXMuc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy4kc3RvcmUuZ2V0dGVycy5pc25vdFVzZXJsb2dpbiwKICAgICAgICAgICAgICAgICAgICBhcnRpY2xlX2lkOiB0aGlzLmFydGljbGVfaWQsCiAgICAgICAgICAgICAgICAgICAgdGV4dDogdGhpcy5uZXdfcGluZ2x1bgogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEgPT0gJ29ubG9naW4nKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+eUqOaIt+eZu+W9leS/oeaBr+mUmeivrycpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhID09ICdub3Blcm0nKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+adg+mZkOS4jei2sycpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEgPT0gJ29rJykgewogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0QWxsUGluZ2x1bigxLCB0aGlzLnBpbmdsdW5fcGFnZVNpemUpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICAvLyDor4Torrrnv7vpobUKICAgICAgICBwaW5nbHVuX2N1cnJlbnRDaGFuZ2UocGFnZSkgewogICAgICAgICAgICB0aGlzLmdldEFsbFBpbmdsdW4ocGFnZSwgdGhpcy5waW5nbHVuX3BhZ2VTaXplKTsKICAgICAgICB9LAogICAgICAgIC8vIOi3s+i9rOaWh+eroOS4iuS4gOmhteS4i+S4gOmhtQogICAgICAgIHRvT3RoZXJQYWdlKGlkKSB7CiAgICAgICAgICAgIGlmIChpZCA9PSAwKSB7CiAgICAgICAgICAgICAgICBhbGVydCgn5rKh5pyJ5LqGJykKICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogJy9hcnRpY2xlJywgcXVlcnk6IHsgaWQ6IGlkIH0gfSkKICAgICAgICB9LAogICAgICAgIC8vIOafpeeci+aWh+eroAogICAgICAgIGdldEFydGljbGVEYXRhKGlkKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGlkKQogICAgICAgICAgICBheGlvcyh7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgICAgICAgICAgdXJsOiAiaHR0cDovLzEyNy4wLjAuMTo5MDAwL2FwaS9hcnRpY2xlLWRhdGEiLAogICAgICAgICAgICAgICAgLy/kvb/nlKhnZXTmlrnms5Xml7bnlKhwYXJhbXMKICAgICAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgICAgICAgIGFydGljbGVfaWQ6IGlkCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEpCiAgICAgICAgICAgICAgICB0aGlzLmFydGljbGVfZGF0YSA9IHJlcy5kYXRhCgogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0sCn0K"},{"version":3,"sources":["Article.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Article.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <BreadMenu :page_name=\"article_data.title\" :lanmu=\"article_data.lanmu\"></BreadMenu>\r\n        <!-- 文章内容 -->\r\n        <el-row>\r\n            <el-col :Xs=\"24\" :lg=\"16\">\r\n                <div class=\"body dweb\">\r\n                    <div class=\"header\">\r\n                        {{ article_data.title }}\r\n                    </div>\r\n                </div>\r\n                <div class=\"body dweb\">\r\n                    <div class=\"dweb\">\r\n                        {{ article_data.describe }}\r\n                    </div>\r\n                </div>\r\n                <div class=\"body dweb\">\r\n                    <div class=\"article-content\" v-html=\"article_data.content\">\r\n                    </div>\r\n                    <div class=\"clear\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"body dweb\">\r\n                    <el-button v-if=\"article_data.pre_id==0\" @click=\"toOtherPage(article_data.pre_id)\" type=\"info\"\r\n                        plain>上一篇</el-button>\r\n                    <el-button v-else @click=\"toOtherPage(article_data.pre_id)\" type=\"success\" plain>上一篇</el-button>\r\n                    <el-button v-if=\"article_data.next_id==0\" @click=\"toOtherPage(article_data.next_id)\" type=\"info\"\r\n                        plain>下一篇</el-button>\r\n                    <el-button v-else @click=\"toOtherPage(article_data.next_id)\" type=\"success\" plain>下一篇</el-button>\r\n                </div>\r\n            </el-col>\r\n            <el-col :xs=\"24\" :lg=\"8\">\r\n                <div class=\"body dweb\">\r\n                    <el-image :src=\"article_data.cover\" :fit=\"'cover'\">\r\n\r\n                    </el-image>\r\n                    <div class=\"body dweb like-btn\">\r\n                        <!-- 点赞收藏打赏 -->\r\n                        <el-row>\r\n                            <!-- 点赞 -->\r\n                            <el-col :span=\"8\">\r\n                                <i v-if=\"user_article_info.like\" class=\"iconfont icon-dianzan\"\r\n                                    style=\"color: #fc5959;\" @click=\"toLike()\"></i>\r\n                                <i v-else class=\"iconfont icon-dianzan\" @click=\"toLike()\"></i>\r\n                            </el-col>\r\n                            <!-- 收藏 -->\r\n                            <el-col :span=\"8\">\r\n                                <i v-if=\"user_article_info.favor\" class=\"iconfont icon-shoucang\"\r\n                                    style=\"color: #ffc815;\" @click=\"toFavor()\"></i>\r\n                                <i v-else class=\"iconfont icon-shoucang\" @click=\"toFavor()\"></i>\r\n                            </el-col>\r\n                            <!-- 打赏 -->\r\n                            <el-col :span=\"8\">\r\n                                <i @click=\"toDashang()\" v-if=\"user_article_info.dashang\" class=\"iconfont icon-dashang\"\r\n                                    style=\"color: #ffc815;\"></i>\r\n                                <i @click=\"toDashang()\" v-else class=\"iconfont icon-dashang\"></i>\r\n                            </el-col>\r\n                        </el-row>\r\n                    </div>\r\n                    <!-- 评论列表 -->\r\n                    <div class=\"body dweb\">\r\n                        <div v-for=\"(item,index) in pinglun_data\" :key=\"index\" class=\"body dweb pinglun-item\">\r\n                            {{ item.nickName }} 说\r\n                            <el-divider></el-divider>\r\n                            {{ item.text }}\r\n                        </div>\r\n                    </div>\r\n                    <!-- 分页器 -->\r\n                    <div class=\"dweb\" style=\"margin-top: 7px;\">\r\n                        <el-pagination small :pager-count=\"5\" background layout=\"prev, pager, next\"\r\n                            :total=\"pinglu_total\" :page-size=\"pinglun_pageSize\" @current-change=\"pinglun_currentChange\">\r\n                        </el-pagination>\r\n                    </div>\r\n                    <!-- 评论 -->\r\n                    <div class=\"body dweb\">\r\n                        <el-input type=\"textarea\" :maxlength=\"120\" :rows=\"2\" placeholder=\"请输入内容\" v-model=\"new_pinglun\">\r\n                        </el-input>\r\n                        <el-button @click=\"saveNewPinglun()\" type=\"success\">发表评论</el-button>\r\n                    </div>\r\n                    <div>\r\n                        <a id=\"payLink\" href=\"https://www.alipay.com/\" target=\"_blank\"></a>\r\n                    </div>\r\n                </div>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import BreadMenu from '../components/BreadMenu'\r\n    import axios from 'axios'\r\n    import Qs from 'qs'\r\n    export default {\r\n        data() {\r\n            return {\r\n                article_id: this.$route.query.id,\r\n                article_data: {},\r\n                // 评论\r\n                new_pinglun: \"\",\r\n                pinglu_total: 100,\r\n                pinglun_pageSize: 4,\r\n                pinglun_data: [],\r\n                user_article_info: {},\r\n            }\r\n        },\r\n        components: {\r\n            BreadMenu\r\n        },\r\n        watch: {\r\n            $route(to) {\r\n                this.article_id = to.query.id\r\n                this.getArticleData(to.query.id)\r\n                this.getAllPinglun(1, this.pinglun_pageSize)\r\n                this.getUserArticleInfo()\r\n            }\r\n        },\r\n        mounted() {\r\n            this.getArticleData(this.article_id)\r\n            this.getAllPinglun(1, this.pinglun_pageSize)\r\n            this.getUserArticleInfo()\r\n        },\r\n        methods: {\r\n            // 点赞\r\n            toLike(){\r\n                axios({\r\n                        url: \"http://127.0.0.1:9000/api/article-like/\",\r\n                        method: \"post\",\r\n                        data: Qs.stringify({\r\n                            token: this.$store.getters.isnotUserlogin,\r\n                            article_id: this.article_id,\r\n                        }),\r\n                    }).then((res)=>{\r\n                        if (res.data == 'nologin') {\r\n                            alert('请登录')\r\n                            return\r\n                        }\r\n                        if (res.data==\"ok\") {\r\n                            this.getUserArticleInfo()\r\n                        }\r\n                        \r\n                    })\r\n            },\r\n            // 收藏\r\n            toFavor(){\r\n                axios({\r\n                        url: \"http://127.0.0.1:9000/api/article-favor/\",\r\n                        method: \"post\",\r\n                        data: Qs.stringify({\r\n                            token: this.$store.getters.isnotUserlogin,\r\n                            article_id: this.article_id,\r\n                        }),\r\n                    }).then((res)=>{\r\n                        if (res.data == 'nologin') {\r\n                            alert('请登录')\r\n                            return\r\n                        }\r\n                        if (res.data==\"ok\") {\r\n                            this.getUserArticleInfo()\r\n                        }\r\n                    })\r\n            },\r\n            // 打赏\r\n            toDashang(){\r\n                let link = document.getElementById('payLink')\r\n                link.herf = \"https://www.alipay.com/\"\r\n                link.click()\r\n\r\n                if (confirm('支付完成了吗？')) {\r\n                    \r\n                    console.log('ok')\r\n                }\r\n            },\r\n            // 获取互动信息\r\n            getUserArticleInfo() {\r\n                let token = this.$store.getters.isnotUserlogin;\r\n                if (token) {\r\n                    axios({\r\n                        url: \"http://127.0.0.1:9000/api/user-article-info/\",\r\n                        method: \"post\",\r\n                        data: Qs.stringify({\r\n                            token: token,\r\n                            article_id: this.article_id,\r\n                        }),\r\n                    }).then((res) => {\r\n                        console.log(res.data)\r\n                        this.user_article_info = res.data;\r\n                    });\r\n                }\r\n            },\r\n            // 获取评论数据\r\n            getAllPinglun(page, pagesize) {\r\n                axios({\r\n                    method: 'get',\r\n                    url: \"http://127.0.0.1:9000/api/pinglun/\",\r\n                    params: {\r\n                        page,\r\n                        pagesize,\r\n                        article_id: this.article_id,\r\n\r\n                    }\r\n                }).then((res) => {\r\n                    this.pinglun_data = res.data.data\r\n                    // console.log(res.data.data)\r\n                    this.pinglu_total = res.data.total\r\n                })\r\n            },\r\n            // 发表评论\r\n            saveNewPinglun() {\r\n                if (this.new_pinglun.length == 0) {\r\n                    alert('请输入评论')\r\n                    return\r\n                }\r\n                axios({\r\n                    method: 'post',\r\n                    url: \"http://127.0.0.1:9000/api/pinglun/\",\r\n                    data: Qs.stringify({\r\n                        token: this.$store.getters.isnotUserlogin,\r\n                        article_id: this.article_id,\r\n                        text: this.new_pinglun\r\n                    })\r\n                }).then((res) => {\r\n                    console.log(res)\r\n                    if (res.data == 'onlogin') {\r\n                        alert('用户登录信息错误')\r\n                        return;\r\n                    }\r\n                    if (res.data == 'noperm') {\r\n                        alert('权限不足')\r\n                        return\r\n                    }\r\n                    if (res.data == 'ok') {\r\n                        this.getAllPinglun(1, this.pinglun_pageSize)\r\n                    }\r\n                })\r\n            },\r\n            // 评论翻页\r\n            pinglun_currentChange(page) {\r\n                this.getAllPinglun(page, this.pinglun_pageSize);\r\n            },\r\n            // 跳转文章上一页下一页\r\n            toOtherPage(id) {\r\n                if (id == 0) {\r\n                    alert('没有了')\r\n                    return\r\n                }\r\n                this.$router.push({ path: '/article', query: { id: id } })\r\n            },\r\n            // 查看文章\r\n            getArticleData(id) {\r\n                console.log(id)\r\n                axios({\r\n                    method: 'get',\r\n                    url: \"http://127.0.0.1:9000/api/article-data\",\r\n                    //使用get方法时用params\r\n                    params: {\r\n                        article_id: id\r\n                    }\r\n                }).then((res) => {\r\n                    // console.log(res.data)\r\n                    this.article_data = res.data\r\n\r\n                })\r\n            }\r\n        },\r\n    }\r\n</script>\r\n<style scoped>\r\n    .body.dweb {\r\n        padding: 10px 10px;\r\n    }\r\n\r\n    .body.dweb .dweb {\r\n        padding: 10px 10px;\r\n        color: #ffffff;\r\n        font-size: 14px;\r\n        font-style: italic;\r\n    }\r\n\r\n    .like-btn {\r\n        text-align: center;\r\n\r\n    }\r\n\r\n    .like-btn i {\r\n        font-size: 30px;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .body.dweb .pinglun-item {\r\n        color: #ffffff;\r\n        font-size: 20px;\r\n    }\r\n</style>"]}]}